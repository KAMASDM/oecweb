"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[928],{5928:function(e,r,s){s.r(r),s.d(r,{default:function(){return z}});var a=s(4165),n=s(5861),t=s(9439),c=s(4942),o=s(1413),i=s(2791),u=s(9795),l=s(5987),d=s(1694),p=s.n(d),h=s(162),x=s(184),m=["bsPrefix","className","as"],v=i.forwardRef((function(e,r){var s=e.bsPrefix,a=e.className,n=e.as,t=void 0===n?"div":n,c=(0,l.Z)(e,m),i=(0,h.vE)(s,"row"),u=(0,h.pi)(),d=(0,h.zG)(),v="".concat(i,"-cols"),f=[];return u.forEach((function(e){var r,s=c[e];delete c[e],r=null!=s&&"object"===typeof s?s.cols:s;var a=e!==d?"-".concat(e):"";null!=r&&f.push("".concat(v).concat(a,"-").concat(r))})),(0,x.jsx)(t,(0,o.Z)((0,o.Z)({ref:r},c),{},{className:p().apply(void 0,[a,i].concat(f))}))}));v.displayName="Row";var f=v,w=s(2677),b=s(3360),g=s(9434),Z=s(7689),j=s(3161);var N=function(e){var r=(0,i.useState)(!1),s=(0,t.Z)(r,2),a=s[0],n=s[1];return(0,x.jsxs)(u.Z.Group,{as:f,className:"mb-3",controlId:"formPlaintextPassword",children:[(0,x.jsx)(u.Z.Label,{column:!0,sm:"3",children:e.label}),(0,x.jsx)(w.Z,{sm:"9",children:(0,x.jsxs)(j.Z,{className:"mb-3",children:[(0,x.jsx)(u.Z.Control,{type:a?"text":"password",placeholder:"Password",onChange:e.onChange,value:e.value}),(0,x.jsx)(j.Z.Text,{id:"basic-addon1",onClick:function(){return n((function(e){return!e}))},children:a?(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-slash",viewBox:"0 0 16 16",children:[(0,x.jsx)("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"})," ",(0,x.jsx)("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"})," ",(0,x.jsx)("path",{d:"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"})," "]}):(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16",children:[(0,x.jsx)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"})," ",(0,x.jsx)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"})]})})]})})]})},P=s(182),k=s(3247),y=s(8982);var C=function(){var e=(0,i.useState)({totalEnq:null,totalApp:null}),r=(0,t.Z)(e,2),s=r[0],c=r[1],u=(0,i.useState)(!0),l=(0,t.Z)(u,2),d=l[0],p=l[1],h=(0,i.useState)(null),m=(0,t.Z)(h,2),v=m[0],f=m[1];(0,i.useEffect)((function(){if(v)throw v}),[v]);var w=(0,g.v9)((function(e){return e.authStore})),b=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,P.IE)("total/counts/",{Authorization:"Bearer ".concat(w.accessToken)},"GET",null);case 3:if(null===(r=e.sent)||void 0===r||!r.isNetwork){e.next=7;break}return f((0,o.Z)((0,o.Z)({},r),{},{page:"enquiries"})),e.abrupt("return");case 7:if(401!==(null===r||void 0===r?void 0:r.status)){e.next=10;break}return f((0,o.Z)((0,o.Z)({},r),{},{page:"enquiries"})),e.abrupt("return");case 10:if(null===r||void 0===r||!r.status){e.next=13;break}return f((0,o.Z)((0,o.Z)({},r),{},{page:"enquiries"})),e.abrupt("return");case 13:p(!1),c({totalApp:r.total_applications,totalEnq:r.total_enquiries}),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),f({e:e.t0,page:"enquiries"}),e.abrupt("return");case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){b()}),[]),d?(0,x.jsx)(y.Z,{className:"text-center"}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"neumorphism-box p50",children:[(0,x.jsx)("h4",{children:"Total Enquiries Processed"}),(0,x.jsx)("h5",{className:"headingHome",children:s.totalEnq})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"neumorphism-box p50",children:[(0,x.jsx)("h4",{children:"Total Applications Processed"}),(0,x.jsx)("h5",{className:"headingHome",children:s.totalApp})]})})]})},S={currentPass:"",NewPass:"",NewPassAgain:""},A=function(e,r){return(0,o.Z)((0,o.Z)({},e),{},(0,c.Z)({},r.type,r.value))};var z=function(){var e=(0,i.useReducer)(A,S),r=(0,t.Z)(e,2),s=r[0],c=r[1],l=(0,i.useState)({error:!1,errorText:"",isSubmit:!1,Success:""}),d=(0,t.Z)(l,2),p=d[0],h=d[1],m=(0,i.useState)(null),v=(0,t.Z)(m,2),j=v[0],y=v[1];(0,i.useEffect)((function(){if(j)throw j}),[j]);var z=(0,g.I0)(),T=(0,g.v9)((function(e){return e.authStore})),E=(0,Z.s0)(),q=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!(s.NewPass.length<8||s.NewPassAgain.length<8)){e.next=6;break}return h({error:!0,errorText:"New Password must be 8 character long",isSubmit:!1,Success:""}),e.abrupt("return");case 6:if(s.NewPass.length===s.NewPassAgain.length){e.next=9;break}return h({error:!0,errorText:"Password Doesn't match, Please chek again",isSubmit:!1,Success:""}),e.abrupt("return");case 9:return(n=new FormData).append("current_password",s.currentPass),n.append("password",s.NewPass),n.append("password2",s.NewPassAgain),e.next=15,(0,P.jQ)("user/changepassword/",{Authorization:"Bearer ".concat(T.accessToken)},"POST",n);case 15:if(null===(t=e.sent)||void 0===t||!t.isNetwork){e.next=19;break}return y((0,o.Z)((0,o.Z)({},t),{},{page:"enqForm"})),e.abrupt("return");case 19:if(401!==(null===t||void 0===t?void 0:t.status)&&204!==(null===t||void 0===t?void 0:t.status)){e.next=22;break}return y((0,o.Z)((0,o.Z)({},t),{},{page:"enqForm"})),e.abrupt("return");case 22:if(400!==(null===t||void 0===t?void 0:t.status)){e.next=25;break}return h({error:!0,errorText:"Please check your current password!",isSubmit:!1,Success:""}),e.abrupt("return");case 25:return console.log("response is ",t),"Password changed"===t.msg?z(k.a.setNotification({show:!0,heading:"User Action",msg:"Password changed successfully"})):h({error:!0,errorText:"Some problem occured, Please try again...",isSubmit:!1,Success:""}),E("/"),e.abrupt("return");case 29:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)(C,{}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"profile-update-form-center",children:(0,x.jsx)("div",{className:"neumorphism-box p50",children:(0,x.jsxs)(u.Z,{onSubmit:q,children:[(0,x.jsxs)(u.Z.Group,{as:f,className:"mb-3",controlId:"formPlaintextEmail",children:[(0,x.jsx)(u.Z.Label,{column:!0,sm:"3",children:"UserName"}),(0,x.jsx)(w.Z,{sm:"9",children:(0,x.jsx)(u.Z.Control,{readOnly:!0,defaultValue:T.userName})})]}),(0,x.jsx)(N,{label:"Current Password",onChange:function(e){c({type:"currentPass",value:e.target.value})},value:s.currentPass}),(0,x.jsx)(N,{label:"New Password",value:s.NewPass,onChange:function(e){c({type:"NewPass",value:e.target.value})}}),(0,x.jsx)(N,{label:"New Password Again",value:s.NewPassAgain,onChange:function(e){c({type:"NewPassAgain",value:e.target.value})}}),p.error?(0,x.jsx)("p",{className:"dengor",children:p.errorText}):"",(0,x.jsx)(w.Z,{sm:"12",className:"text-center",children:(0,x.jsx)(b.Z,{variant:"primary",type:"submit",disabled:!(s.currentPass&&s.NewPass&&s.NewPassAgain),children:"Change Password"})})]})})})})]})}},3161:function(e,r,s){s.d(r,{Z:function(){return f}});var a=s(5987),n=s(1413),t=s(1694),c=s.n(t),o=s(2791),i=s(6543),u=s(162),l=s(6882),d=o.createContext(null);d.displayName="InputGroupContext";var p=d,h=s(184),x=["bsPrefix","size","hasValidation","className","as"],m=(0,i.Z)("input-group-text",{Component:"span"}),v=o.forwardRef((function(e,r){var s=e.bsPrefix,t=e.size,i=e.hasValidation,l=e.className,d=e.as,m=void 0===d?"div":d,v=(0,a.Z)(e,x);s=(0,u.vE)(s,"input-group");var f=(0,o.useMemo)((function(){return{}}),[]);return(0,h.jsx)(p.Provider,{value:f,children:(0,h.jsx)(m,(0,n.Z)((0,n.Z)({ref:r},v),{},{className:c()(l,s,t&&"".concat(s,"-").concat(t),i&&"has-validation")}))})}));v.displayName="InputGroup";var f=Object.assign(v,{Text:m,Radio:function(e){return(0,h.jsx)(m,{children:(0,h.jsx)(l.Z,(0,n.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,h.jsx)(m,{children:(0,h.jsx)(l.Z,(0,n.Z)({type:"checkbox"},e))})}})}}]);
//# sourceMappingURL=928.9aafcb65.chunk.js.map