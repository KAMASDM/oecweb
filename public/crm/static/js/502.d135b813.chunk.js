"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[502],{1502:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var s=n(4165),a=n(1413),r=n(5861),i=n(9439),l=n(2791),o=n(9434),d=n(8982),c=n(9825),u=n(3980),p=n(184);var h=function(e){var t,n,s,a,r,i,l,o,d,c,h,m=e.data;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsx)("h2",{className:"mb-3 text-center",children:"Applicant Details"})}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"applicantDetailsDashboard",children:[(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Name"})," :"," ",(0,p.jsx)("span",{children:m.student_name})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Phone"})," :"," ",(0,p.jsx)("span",{children:m.student_phone})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Email Id"})," :"," ",(0,p.jsx)("span",{children:m.student_email})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Address"})," :",(0,p.jsxs)("span",{children:[m.student_address,", ",m.city,", ",m.state,","," ",m.zipcode," -",m.country]})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Current Education"})," :",(0,p.jsx)("span",{children:null===(t=m.current_education)||void 0===t?void 0:t.current_education})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Notes"})," :"," ",(0,p.jsx)("span",{children:m.notes})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Previous Visa Refusal"})," :",(0,p.jsx)("span",{children:m.visa_refusal?"YES":"NO"})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Visa Refusal File"})," :",(0,p.jsx)("span",{children:m.visa_file?(0,p.jsx)("a",{href:m.visa_file,target:"_blank",rel:"noreferrer",children:"Download File"}):"-"})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"DOB"})," :"," ",(0,p.jsx)("span",{children:null!==m&&void 0!==m&&m.dob?null===m||void 0===m?void 0:m.dob.split("-").reverse().join("-"):"-"})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Passport Number"})," :"," ",(0,p.jsx)("span",{children:m.passport_number})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Is Married"})," :"," ",(0,p.jsx)("span",{children:m.married?"Yes":"No"})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Country Interested"})," :"," ",(0,p.jsx)("span",{children:null===(n=m.country_interested)||void 0===n?void 0:n.country_name})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"textBold",children:"Enquiry Date"})," :",(0,p.jsx)("span",{children:m.date_created.split("-").reverse().join("-")})]})]})}),(0,p.jsx)("div",{className:"col-md-6 borderLeft",children:(0,p.jsxs)("div",{className:"applicantDetailsDashboard",children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"textBold",children:"10th Marksheet"}),(0,p.jsx)(u.Z,{id:m.application[0].id,docType:"10th Marksheet",name:m.student_name,document:null===(s=m.application[0])||void 0===s?void 0:s.Tenth_Marksheet,uploadKey:"Tenth_Marksheet",setRefresherNeeded:function(){}})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"textBold",children:"12th Marksheet"}),(0,p.jsx)(u.Z,{id:m.application[0].id,docType:"12th Marksheet",name:m.student_name,document:null===(a=m.application[0])||void 0===a?void 0:a.Twelveth_Marksheet,uploadKey:"Twelveth_Marksheet",setRefresherNeeded:function(){}})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"textBold",children:"Diploma Marksheet"}),(0,p.jsx)(u.Z,{id:m.application[0].id,docType:"Diploma Marksheet",name:m.student_name,document:null===(r=m.application[0])||void 0===r?void 0:r.Diploma_Marksheet,uploadKey:"Diploma_Marksheet",setRefresherNeeded:function(){}})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"textBold",children:"Bachelor Marksheet"}),(0,p.jsx)(u.Z,{id:m.application[0].id,docType:"Bachelor_Marksheet",name:m.student_name,document:null===(i=m.application[0])||void 0===i?void 0:i.Bachelor_Marksheet,uploadKey:"Bachelor_Marksheet",setRefresherNeeded:function(){}})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"textBold",children:"Language Exam"}),(0,p.jsx)(u.Z,{id:m.application[0].id,docType:"Language_Exam",name:m.student_name,document:null===(l=m.application[0])||void 0===l?void 0:l.Language_Exam,uploadKey:"Language_Exam",setRefresherNeeded:function(){}})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"textBold",children:"Master Marksheet"}),(0,p.jsx)(u.Z,{id:m.application[0].id,docType:"Master_Marksheet",name:m.student_name,document:null===(o=m.application[0])||void 0===o?void 0:o.Master_Marksheet,uploadKey:"Master_Marksheet",setRefresherNeeded:function(){}})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"textBold",children:"Resume"}),(0,p.jsx)(u.Z,{id:m.application[0].id,docType:"Resume",name:m.student_name,document:null===(d=m.application[0])||void 0===d?void 0:d.Resume,uploadKey:"Resume",setRefresherNeeded:function(){}})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"textBold",children:"Lor"}),(0,p.jsx)(u.Z,{id:m.application[0].id,docType:"Lor",name:m.student_name,document:null===(c=m.application[0])||void 0===c?void 0:c.Lor,uploadKey:"Lor",setRefresherNeeded:function(){}})]}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"textBold",children:"passport"}),(0,p.jsx)(u.Z,{id:m.application[0].id,docType:"passport",name:m.student_name,document:null===(h=m.application[0])||void 0===h?void 0:h.passport,uploadKey:"passport",setRefresherNeeded:function(){}})]})]})})]})]})},m=n(7689),v=n(1087),x=n(182),f=n(3513),_=n(4821),j=n(8156),g=n(3247),y=n(6056),N=n(2846);var b=function(e){var t=(0,l.useState)([]),n=(0,i.Z)(t,2),c=n[0],h=n[1],v=(0,l.useState)(!0),b=(0,i.Z)(v,2),k=(b[0],b[1],(0,l.useState)([])),Z=(0,i.Z)(k,2),w=Z[0],S=(Z[1],(0,l.useState)([])),I=(0,i.Z)(S,2),M=I[0],B=I[1],C=(0,l.useState)(1),R=(0,i.Z)(C,2),A=(R[0],R[1]),T=(0,l.useState)(10),E=(0,i.Z)(T,2),L=(E[0],E[1]),D=(0,l.useState)(0),U=(0,i.Z)(D,2),F=U[0],q=U[1],K=(0,l.useState)(!1),P=(0,i.Z)(K,2),z=P[0],O=P[1],V=(0,l.useState)(!1),H=(0,i.Z)(V,2),G=H[0],Y=H[1],Q=(0,o.v9)((function(e){return e.authStore})),J=(0,m.s0)(),W=(0,l.useState)(null),X=(0,i.Z)(W,2),$=(X[0],X[1]),ee=(0,o.I0)(),te=(0,l.useRef)({}),ne=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.IE)("userlist/",{Authorization:"Bearer ".concat(Q.accessToken)});case 2:if(null===(t=e.sent)||void 0===t||!t.isNetwork){e.next=6;break}return $((0,a.Z)((0,a.Z)({},t),{},{page:"enquiries"})),e.abrupt("return");case 6:if(401!==(null===t||void 0===t?void 0:t.status)){e.next=9;break}return $((0,a.Z)((0,a.Z)({},t),{},{page:"enquiries"})),e.abrupt("return");case 9:if(null!==t&&void 0!==t&&t.length){e.next=12;break}return $((0,a.Z)((0,a.Z)({},t),{},{page:"enquiries"})),e.abrupt("return");case 12:B((function(e){return t.map((function(e){return{value:e.id,name:e.username}}))}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){c.length&&!M.length&&ne()}),[c]);var se=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(n){var r,i,l,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,(0,x.IE)(n,{Authorization:"Bearer ".concat(Q.accessToken)},"GET",null);case 3:if(null===(i=t.sent)||void 0===i||!i.isNetwork){t.next=7;break}return $((0,a.Z)((0,a.Z)({},i),{},{page:"enquiries"})),t.abrupt("return");case 7:if(401!==(null===i||void 0===i?void 0:i.status)){t.next=10;break}return $((0,a.Z)((0,a.Z)({},i),{},{page:"enquiries"})),t.abrupt("return");case 10:(null===i||void 0===i||null===(r=i.results)||void 0===r?void 0:r.length)>0?(o=null===(l=i.results)||void 0===l?void 0:l.map((function(e){var t,n,s,r,i,l,o,d,c,u;return(0,a.Z)((0,a.Z)({},e),{},{Tenth_Marksheet:null===(t=e.student_info)||void 0===t?void 0:t.Tenth_Marksheet,Twelveth_Marksheet:null===(n=e.student_info)||void 0===n?void 0:n.Twelveth_Marksheet,Diploma_Marksheet:null===(s=e.student_info)||void 0===s?void 0:s.Diploma_Marksheet,Bachelor_Marksheet:null===(r=e.student_info)||void 0===r?void 0:r.Bachelor_Marksheet,Language_Exam:null===(i=e.student_info)||void 0===i?void 0:i.Language_Exam,Lor:null===(l=e.student_info)||void 0===l?void 0:l.Lor,Master_Marksheet:null===(o=e.student_info)||void 0===o?void 0:o.Master_Marksheet,Resume:null===(d=e.student_info)||void 0===d?void 0:d.Resume,name:null===(c=e.student_info)||void 0===c||null===(u=c.name)||void 0===u?void 0:u.student_name})})),h(o),q(i.count)):h([]),O(!1),e.setRefresherNeeded(!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,l.useEffect)((function(){e.refreshNeeded&&se("get/courseinfo/?application=".concat(e.appId))}),[e.appId,e.refreshNeeded]);var ae=[{cell:function(t){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(_.Z,{data:t}),(0,p.jsx)("button",{className:"enquiryAction",title:"Edit Application",onClick:function(){J("/application/edit/".concat(t.id))},children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-edit-2 p-1 br-8 mb-1",children:(0,p.jsx)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),"superuser"===Q.user_type?(0,p.jsx)("button",{className:"enquiryAction",title:"Delete Application",onClick:function(){var n,s;n=e.stuName,s=t.id,Y(!0),te.current={name:n,id:s}},children:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-trash p-1 br-8 mb-1",children:[(0,p.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,p.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}):""]})},ignoreRowClick:!0,allowOverflow:!0,button:!0},{name:"University Interested",selector:function(e){var t;return null===(t=e.university_interested)||void 0===t?void 0:t.univ_name},sortable:!0},{name:"Level Applying for",selector:function(e){var t;return null===(t=e.level_applying_for)||void 0===t?void 0:t.levels}},{name:"Intake_interested",selector:function(e){var t,n;return(null===(t=e.intake_interested)||void 0===t?void 0:t.intake_month)+" "+(null===(n=e.intake_interested)||void 0===n?void 0:n.intake_year)},grow:1},{name:"Course Interested",selector:function(e){var t;return null===(t=e.course_interested)||void 0===t?void 0:t.course_name}},{name:"Sop",cell:function(e){return(0,p.jsx)(u.Z,{id:e.id,docType:"SOP",name:e.student_name,document:e.Sop,uploadKey:"Sop"})}},{name:"Offer Letter",cell:function(e){return(0,p.jsx)(u.Z,{id:e.id,docType:"Offer Letter",name:e.student_name,document:e.rcvd_offer_letter,uploadKey:"rcvd_offer_letter"})}},{name:"Assigned Users",selector:function(e){var t,n,s;return(0,p.jsx)(y.Z,{enqName:e.name,allUser:M,name:null!==(t=e.assigned_users)&&void 0!==t&&t.username?null===(n=e.assigned_users)||void 0===n?void 0:n.username:"-",assignId:null===(s=e.assigned_users)||void 0===s?void 0:s.id,courseId:e.id})}},{name:"Status",selector:function(e){var t,n,s;return(0,p.jsx)(N.Z,{enqName:e.name,allStatus:w,name:null!==(t=e.status)&&void 0!==t&&t.App_status?null===(n=e.status)||void 0===n?void 0:n.App_status:"-",statusId:null===(s=e.status)||void 0===s?void 0:s.id,courseId:e.id})}}],re="superuser"===Q.user_type?ae:ae.filter((function(e){return"Assigned Users"!==e.name})),ie=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(n){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,O(!0),t.next=4,(0,x.zG)("get/courseinfo/".concat(n,"/"),{Authorization:"Bearer ".concat(Q.accessToken)},"DELETE");case 4:if(!0===(r=t.sent)){t.next=8;break}return $((0,a.Z)((0,a.Z)({},r),{},{page:"applications"})),t.abrupt("return");case 8:ee(g.a.setNotification({show:!0,heading:"Application Deleted Successfully",msg:"<strong>".concat(te.current.name,"</strong> Application Deleted successfully")})),te.current={},h([]),e.setRefresherNeeded(!0),t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(0),$({e:t.t0,page:"enquiries"}),t.abrupt("return");case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.ZP,{autoResetPage:!0,onChangePage:function(t){A(t),h([]),e.setRefresherNeeded(!0)},columns:re,data:c,onChangeRowsPerPage:function(t,n){L(t),A(n),h([]),e.setRefresherNeeded(!0)},selectableRows:!0,onSelectedRowsChange:function(e){e.selectedRows},pagination:!0,paginationServer:!0,progressPending:z,progressComponent:(0,p.jsx)(d.Z,{className:"loading-spinner-flex"}),paginationTotalRows:F},F)," ",G?(0,p.jsx)(j.Z,{setModalStatus:function(){Y(!1)},showStatus:G,showHeader:!1,body:(0,p.jsxs)("div",{className:"delete-modal text-center",children:[(0,p.jsx)("div",{className:"delete-modal__icon",children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{fill:"#f15e5e",d:"M8.27 3L3 8.27v7.46L8.27 21h7.46C17.5 19.24 21 15.73 21 15.73V8.27L15.73 3M9.1 5h5.8L19 9.1v5.8L14.9 19H9.1L5 14.9V9.1m6 5.9h2v2h-2v-2m0-8h2v6h-2V7"})})}),(0,p.jsxs)("div",{className:"delete-modal__text",children:[(0,p.jsx)("h3",{children:"Are you sure?"}),(0,p.jsxs)("p",{children:["Do you really want to delete",(0,p.jsxs)("strong",{children:[" ",te.current.name," ?"]})]})]}),(0,p.jsxs)("div",{className:"delete-modal__action",children:[(0,p.jsx)("button",{class:"btn btn-light-dark mb-2 me-4",onClick:function(){Y(!1)},children:"Cancel"}),(0,p.jsx)("button",{class:"btn btn-danger mb-2 me-4",onClick:function(){ie(te.current.id),Y(!1)},children:"Delete"})]})]}),showFooter:!1,footerContent:""}):""]})},k=n(3360),Z=n(4942),w=n(4707),S=n(9795),I={sop:null,rcvd_offer_letter:null,university_interested:"",course_interested:"",intake_interested:"",level_applying_for:"",assignedUser:"",status:""},M=function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,Z.Z)({},t.type,t.value))};var B=function(e){var t=(0,l.useReducer)(M,I),n=(0,i.Z)(t,2),a=n[0],d=n[1],u=(0,o.v9)((function(e){return e.authStore})),h=(0,l.useState)({isError:!1,isSubmitting:!1}),m=(0,i.Z)(h,2),v=m[0],f=m[1],_=(0,o.I0)(),j=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(n,r){var i,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),a.university_interested&&a.course_interested&&a.intake_interested&&a.level_applying_for&&a.sop){t.next=4;break}return f({isError:"Please Fill all the details",isSubmitting:!1}),t.abrupt("return");case 4:return f({isError:!1,isSubmitting:!0}),(i=new FormData).append("university_interested",a.university_interested),i.append("course_interested",a.course_interested),i.append("intake_interested",a.intake_interested),i.append("level_applying_for",a.level_applying_for),i.append("application",n),a.assignedUser&&i.append("assigned_users",a.assignedUser),a.status&&i.append("status",a.status),a.sop instanceof File&&i.append("Sop",a.sop),a.rcvd_offer_letter instanceof File&&i.append("rcvd_offer_letter",a.rcvd_offer_letter),"get/courseinfo/","POST",t.next=19,(0,x.jQ)("get/courseinfo/",{Authorization:"Bearer ".concat(u.accessToken)},"POST",i);case 19:l=t.sent,console.log(l),f({isError:!1,isSubmitting:!1}),_(g.a.setNotification({show:!0,heading:"Application",msg:"Applied To University For ".concat(e.appName," Student")})),e.hideModal(!0),e.setRefresherNeeded(!0);case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),y=function(e,t){d({type:e,value:t})};return(0,p.jsxs)(S.Z,{className:"row",onSubmit:j.bind(null,e.appId),children:[(0,p.jsx)(c.Z,{groupClass:"mb-3  selectbox ".concat(e.clssName),groupId:"uniInterested",label:"University Interested",value:a.university_interested,onChange:function(e){d({type:"university_interested",value:e})},name:"uniInterested",url:"universitieslists/?country=".concat(e.country),isSearch:!0,objKey:"univ_name"}),(0,p.jsx)(c.Z,{groupClass:"mb-3  selectbox ".concat(e.clssName),groupId:"intakeInterested",label:"Intake Interested",value:a.intake_interested,onChange:function(e){d({type:"intake_interested",value:e})},name:"intakeInterested",url:"intakes/",isSearch:!0,objKey:"it's different"}),(0,p.jsx)(c.Z,{label:"Level Applying For",groupClass:"mb-3  selectbox ".concat(e.clssName),groupId:"levelApplying",value:a.level_applying_for,onChange:function(e){d({type:"level_applying_for",value:e})},name:"levelApplying",url:"courselevels/",isSearch:!0,objKey:"levels"}),(0,p.jsx)(c.Z,{groupClass:"mb-3  selectbox ".concat(e.clssName),groupId:"courseIntersted",label:"Course Interested",value:a.course_interested,onChange:function(e){d({type:"course_interested",value:e})},name:"courseInterested",url:a.university_interested&&a.level_applying_for?"courseslists/?university=".concat(a.university_interested,"&course_levels=").concat(a.level_applying_for):"",isSearch:!0,objKey:"course_name"}),(0,p.jsx)(w.Z,{label:"SOP",appId:e.appId,uploadId:"Sop",isEdit:e.edit,onChange:function(e){d({type:"sop",value:e})},groupId:"sopFile",groupClassName:"mb-3  dragDropUpload noHeight ".concat(e.clssName),fieldName:"sopFileIp",minUploadSize:"0.005",maxUploadSize:"10",afile:a.sop}),(0,p.jsx)(w.Z,{appId:e.appId,uploadId:"rcvd_offer_letter",label:"Offer Letter",isEdit:e.edit,onChange:function(e){d({type:"rcvd_offer_letter",value:e})},groupId:"rcvd_offer_letter",groupClassName:"mb-3  dragDropUpload noHeight ".concat(e.clssName),fieldName:"rcvd_offer_letterIP",minUploadSize:"0.005",maxUploadSize:"10",afile:a.rcvd_offer_letter}),"superuser"===u.user_type?(0,p.jsx)(c.Z,{groupClass:"mb-3 selectbox col-md-6 ",groupId:"assignedUser",onChange:y.bind(null,"assignedUser"),name:"assignedUser",url:"userlist/",value:a.assignedUser,isSearch:!0,objKey:"username",label:"Assigned Users"}):"","Agent"!==u.user_type?(0,p.jsx)(c.Z,{label:"Status",groupClass:"mb-3 selectbox col-md-6 ",groupId:"status",onChange:y.bind(null,"status"),name:"status",url:"appstatus/",value:a.status,objKey:"App_status"}):"",(0,p.jsxs)("div",{className:"col-md-12 text-center",children:[(0,p.jsx)(k.Z,{variant:"primary",type:"submit",disabled:v.isSubmitting,children:v.isSubmitting?"Applying":"Apply To University"}),v.isError?(0,p.jsx)("p",{className:"dengor",children:v.isError}):""]})]})};var C=function(e){var t=(0,l.useState)(!1),n=(0,i.Z)(t,2),s=n[0],a=n[1],r=function(){a((function(e){return!e}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"col-md-12 text-center mb-3",children:(0,p.jsx)(k.Z,{onClick:r,children:"Apply To University"})}),s?(0,p.jsx)(j.Z,{setModalStatus:r,showStatus:!0,showHeader:!0,title:"Apply To University",body:(0,p.jsx)(B,{appName:e.appName,clssName:"col-md-6",appId:e.appId,hideModal:r,country:e.country,setRefresherNeeded:e.setRefresherNeeded})}):""]})};var R=function(){var e,t,n=(0,l.useState)({isLoading:!0,data:{}}),c=(0,i.Z)(n,2),u=(c[0],c[1]),f=(0,l.useState)(!0),_=(0,i.Z)(f,2),j=_[0],g=_[1],y=(0,l.useState)([]),N=(0,i.Z)(y,2),k=N[0],Z=N[1],w=(0,o.v9)((function(e){return e.authStore})),S=(0,m.UO)().enqId,I=(0,l.useState)(null),M=(0,i.Z)(I,2),B=M[0],R=M[1],A=(0,l.useState)(!0),T=(0,i.Z)(A,2),E=T[0],L=T[1];(0,l.useEffect)((function(){if(B)throw B}),[B]);var D=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.IE)("enquiries/".concat(S,"/"),{Authorization:"Bearer ".concat(w.accessToken)},"POST",null);case 2:if(null===(t=e.sent)||void 0===t||!t.isNetwork){e.next=6;break}return R((0,a.Z)((0,a.Z)({},t),{},{page:"enqForm"})),e.abrupt("return");case 6:if(401!==(null===t||void 0===t?void 0:t.status)&&204!==(null===t||void 0===t?void 0:t.status)&&404!==(null===t||void 0===t?void 0:t.status)){e.next=9;break}return R((0,a.Z)((0,a.Z)({},t),{},{page:"enqForm"})),e.abrupt("return");case 9:if(null===t||void 0===t||!t.status){e.next=12;break}return R((0,a.Z)((0,a.Z)({},t),{},{page:"enquiries"})),e.abrupt("return");case 12:Z(t),g(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){S&&(g(!0),D())}),[S]),j?(0,p.jsx)(d.Z,{className:"text-center"}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"neumorphism-box",children:(0,p.jsx)(h,{data:k})}),(0,p.jsx)("div",{className:"col-md-12 text-center",children:k.application_id?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(C,{appName:k.student_name,appId:k.application_id,country:null!==(e=k.country_interested)&&void 0!==e&&e.id?null===(t=k.country_interested)||void 0===t?void 0:t.id:1,setRefresherNeeded:L}),(0,p.jsx)("div",{className:"neumorphism-box",children:(0,p.jsx)("div",{className:"col-md-12",children:k.application_id?(0,p.jsx)(b,{stuName:k.student_name,setRefresherNeeded:L,refreshNeeded:E,enqId:k.id,appId:k.application_id,setAppDocInfo:u}):""})})]}):(0,p.jsx)(v.rU,{className:"btn btn-primary",to:"/application/create/".concat(k.id),children:"Add Application"})})]})}}}]);
//# sourceMappingURL=502.d135b813.chunk.js.map