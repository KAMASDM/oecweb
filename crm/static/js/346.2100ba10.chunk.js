"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[346],{2846:function(e,t,n){var a=n(4165),r=n(1413),o=n(5861),s=n(9439),i=n(2791),u=n(9813),c=n(1386),l=n(629),d=n(182),p=n(9434),h=n(3247),f=n(184);t.Z=function(e){var t=(0,i.useState)(!1),n=(0,s.Z)(t,2),v=(n[0],n[1],(0,i.useState)(!1)),m=(0,s.Z)(v,2),g=m[0],x=m[1],w=(0,i.useState)({name:e.name,val:e.statusId?e.statusId:null}),k=(0,s.Z)(w,2),Z=k[0],A=k[1],y=(0,i.useState)(null),b=(0,s.Z)(y,2),S=b[0],j=b[1],F=(0,p.I0)();(0,i.useEffect)((function(){if(S)throw S}),[S]);var _=(0,p.v9)((function(e){return e.authStore})),E=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(n,o){var s,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),(s=new FormData).append("status",n),t.next=5,(0,d.jQ)("get/courseinfo/".concat(e.courseId,"/"),{Authorization:"Bearer ".concat(_.accessToken)},"PATCH",s);case 5:if(null===(i=t.sent)||void 0===i||!i.isNetwork){t.next=10;break}return j((0,r.Z)((0,r.Z)({},i),{},{page:"enqForm"})),F(h.a.setNotification({show:!0,heading:"Application",msg:"Some Problem occur while updating the Status"})),t.abrupt("return");case 10:if(401!==(null===i||void 0===i?void 0:i.status)&&204!==(null===i||void 0===i?void 0:i.status)&&400!==(null===i||void 0===i?void 0:i.status)){t.next=14;break}return j((0,r.Z)((0,r.Z)({},i),{},{page:"enqForm"})),F(h.a.setNotification({show:!0,heading:"Application",msg:"Some Problem occur while updating the Status"})),t.abrupt("return");case 14:null===i||void 0===i||i.status,i.status===n&&(A({name:o.name,val:n}),console.log(),x(!1),F(h.a.setNotification({show:!0,heading:"Application",msg:"For ".concat(e.enqName," Status changed successfully")})));case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),C=(0,f.jsx)(u.Z,{className:"popoverChangeStatus",children:(0,f.jsx)(u.Z.Body,{children:(0,f.jsx)(l.Z,{placeholder:"select Option",options:e.allStatus,value:Z.val,onChange:E,name:"assignedUsr",search:!0})})});return(0,f.jsx)(f.Fragment,{children:g?"Updating":(0,f.jsx)(c.Z,{placement:"bottom",trigger:"click",overlay:C,rootClose:!0,children:(0,f.jsx)("span",{className:"pointer",children:Z.name})})})}},3980:function(e,t,n){var a=n(1413),r=n(9439),o=n(2791),s=n(482),i=n(184);t.Z=function(e){var t=(0,o.useState)({show:!1,id:e.id,title:e.docType,name:e.name,document:e.document,key:e.uploadKey}),n=(0,r.Z)(t,2),u=n[0],c=n[1];return(0,i.jsxs)(i.Fragment,{children:[u.document?(0,i.jsx)("a",{href:u.document,target:"_blank",rel:"noreferrer",download:!0,className:"btn btn-primary",alt:"Download ".concat(u.name),children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-down-circle",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("polyline",{points:"8 12 12 16 16 12"}),(0,i.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"})]})}):(0,i.jsx)("div",{className:"btn btn-danger",onClick:function(){c((0,a.Z)((0,a.Z)({},u),{},{show:!0}))},children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-up-circle",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("polyline",{points:"16 12 12 8 8 12"}),(0,i.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"8"})]})}),u.show?(0,i.jsx)(s.Z,{changeMode:c,name:u.name,title:u.title,uploadKey:e.uploadKey,id:u.id,setRefresherNeeded:e.setRefresherNeeded}):""]})}},4821:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(9439),r=n(2791),o=n(6347),s=n(3247),i=n(9434),u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBklEQVR4nO2asU7DMBCGv6lD9yAGOla8BN0p79SV8iwIMcLe0pUBhnam7YhEGbsYRTJSiNzGTm3HCfdLXk4n3/1/7xznGhAIBIJ66AMTYAXsAdXA2gJ3QI/IOANeGyJtWtPY5N914FUhiSZwVaiEKMiANx10CZw3LAAx42cG8lETOIAo8bMD5KMlcATB42dHyEdJoAJB42cV5IMnYIFg8TML8kETsESQ+Jkl+WAJOMB7/H7hkvOun/tRE3CE9/iTwiWnivxI+27okADLGlfRWzokwN6B+EaTj/4yElIA1XBPu0IEQCoAaQEa6KkbYJ3AMMR25bmOfQqwToCU6/rwKYDq6tNCiQBIBSifJfXfW2BhOc8v+30Dj8ClxX75eklVAGU5zz/k8wlcWPjNUhegap5f9stJP2nb/RE/WyQlgMlu8hto267Cr7MCuPi1SoCRYZLUeQFUxSTJVQCXJ0ByAmwMk6RTBJi18Qwo49gh+FXhRxcFGADP2vZQY7/WCqAMF6Fhjf3q5oFvYnPLHp2XiO/0Lz+suV8yAqQCEQCpAKQF8Ngr64pbXueHomO9YZvIX/sUIBV4z1eJAEgFKNoDaQHkDCDoIbgwTFxSsgWvAGUIkLrtJCgRgD+Kmt6/U7LJIYjnFtjqDfO/r1JHkC9Vpwm8uDT6pWpPi/BbCSmvFL5UFQgEtBc/KSE+QHrJE5EAAAAASUVORK5CYII=",c=n(184);var l=function(e){var t=(0,o.Z)(),n=(0,a.Z)(t,5),l=n[0],d=n[1],p=n[2],h=n[3],f=n[4],v=(0,i.I0)();return(0,r.useEffect)((function(){if(console.log(p),p)try{window.open(p,"_blank").focus(),f(""),v(s.a.setNotification({show:!0,heading:"Export PDF",msg:"PDF Exported"}))}catch(e){v(s.a.setNotification({show:!0,heading:"Export PDF",msg:"Some Problem occured while exporting pdf please try again."})),f("")}}),[p]),(0,c.jsx)("img",{onClick:function(){l?v(s.a.setNotification({show:!0,heading:"Export PDF",msg:"Generating PDF, Please Wait"})):(d(!0),h(e.data),v(s.a.setNotification({show:!0,heading:"Export PDF",msg:"Exporting PDF for ".concat(e.data.name,"...")})))},className:"pointer exportPDFIcon",src:u,alt:"Export PDF"})}},482:function(e,t,n){var a=n(4165),r=n(1413),o=n(5861),s=n(9439),i=n(2791),u=n(3360),c=n(4849),l=n(938),d=n(182),p=n(9434),h=n(3247),f=n(8156),v=(n(8982),n(184));t.Z=function(e){var t=(0,i.useState)(!1),n=(0,s.Z)(t,2),m=n[0],g=n[1],x=(0,p.v9)((function(e){return e.authStore})),w=(0,p.I0)(),k=(0,i.useState)(null),Z=(0,s.Z)(k,2),A=Z[0],y=Z[1];(0,i.useEffect)((function(){if(A)throw A}),[A]);var b=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(n,o){var s,i,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=new FormData,o instanceof File&&s.append(e.uploadKey,o),g(!0),i="update-application/".concat(n,"/"),"rcvd_offer_letter"!==e.uploadKey&&"Sop"!==e.uploadKey||(i="get/courseinfo/".concat(n,"/")),t.next=7,(0,d.jQ)(i,{Authorization:"Bearer ".concat(x.accessToken)},"PATCH",s);case 7:if(null===(u=t.sent)||void 0===u||!u.isNetwork){t.next=11;break}return y((0,r.Z)((0,r.Z)({},u),{},{page:"enqForm"})),t.abrupt("return");case 11:if(401!==(null===u||void 0===u?void 0:u.status)&&204!==(null===u||void 0===u?void 0:u.status)){t.next=14;break}return y((0,r.Z)((0,r.Z)({},u),{},{page:"enqForm"})),t.abrupt("return");case 14:if(!(400===(null===u||void 0===u?void 0:u.status)||(null===u||void 0===u?void 0:u.status)>499)){t.next=18;break}return w(h.a.setNotification({show:!0,heading:"Application",msg:"Problem Occured while uploading ".concat(e.title,", Please try again")})),S(),t.abrupt("return");case 18:w(h.a.setNotification({show:!0,heading:"Application",msg:"".concat(e.title," Uploaded Successfully for ").concat(e.name," ")})),"rcvd_offer_letter"===e.uploadKey||"Sop"===e.uploadKey||e.setRefresherNeeded(!0),e.changeMode((function(t){return(0,r.Z)((0,r.Z)({},t),{},{document:u[e.uploadKey],show:!1})})),g(!1);case 22:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),S=function(){e.changeMode((function(e){return(0,r.Z)((0,r.Z)({},e),{},{show:!1})}))};return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(f.Z,{setModalStatus:S,showStatus:!0,showHeader:!0,title:"Upload ".concat(e.title," for ").concat(e.name),body:m?(0,v.jsx)("div",{className:"text-center uploadingBtn",children:(0,v.jsxs)(u.Z,{variant:"primary",disabled:!0,children:[(0,v.jsx)(c.Z,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Uploading..."]})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"flexCenter",children:(0,v.jsx)(l.b,{handleChange:function(t){b(e.id,t)},types:["pdf"],hoverTitle:"Upload Document",minSize:5e-5,maxSize:.5})}),(0,v.jsx)("div",{className:"text-center mt-3",children:(0,v.jsx)(u.Z,{variant:"danjor-outline",onClick:S,children:"Cancel Upload"})})]})})})}},6056:function(e,t,n){var a=n(4165),r=n(1413),o=n(5861),s=n(9439),i=n(2791),u=n(9813),c=n(1386),l=n(629),d=n(182),p=n(9434),h=n(3247),f=n(184);t.Z=function(e){var t=(0,i.useState)(!1),n=(0,s.Z)(t,2),v=(n[0],n[1],(0,i.useState)(!1)),m=(0,s.Z)(v,2),g=m[0],x=m[1],w=(0,i.useState)({name:e.name,val:e.assignId?e.assignId:null}),k=(0,s.Z)(w,2),Z=k[0],A=k[1],y=(0,i.useState)(null),b=(0,s.Z)(y,2),S=b[0],j=b[1],F=(0,p.I0)();(0,i.useEffect)((function(){if(S)throw S}),[S]);var _=(0,p.v9)((function(e){return e.authStore})),E=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(n,o){var s,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),{assigned_users:n},(s=new FormData).append("assigned_users",n),t.next=6,(0,d.jQ)("get/courseinfo/".concat(e.courseId,"/"),{Authorization:"Bearer ".concat(_.accessToken)},"PATCH",s);case 6:if(null===(i=t.sent)||void 0===i||!i.isNetwork){t.next=11;break}return j((0,r.Z)((0,r.Z)({},i),{},{page:"enqForm"})),F(h.a.setNotification({show:!0,heading:"Enquiry",msg:"Some Problem occur while updating the Assign User"})),t.abrupt("return");case 11:if(401!==(null===i||void 0===i?void 0:i.status)&&204!==(null===i||void 0===i?void 0:i.status)&&400!==(null===i||void 0===i?void 0:i.status)){t.next=15;break}return j((0,r.Z)((0,r.Z)({},i),{},{page:"enqForm"})),F(h.a.setNotification({show:!0,heading:"Enquiry",msg:"For ".concat(e.enqName," assigned User changed successfully")})),t.abrupt("return");case 15:null===i||void 0===i||i.status,i.assigned_users===n&&(A({name:o.name,val:n}),console.log(),x(!1),F(h.a.setNotification({show:!0,heading:"Enquiry",msg:"For ".concat(e.enqName," assigned User changed successfully")})));case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),C=(0,f.jsx)(u.Z,{id:"popoverAssignusrEnq",children:(0,f.jsx)(u.Z.Body,{children:(0,f.jsx)(l.Z,{placeholder:"select Option",options:e.allUser,value:Z.val,onChange:E,name:"assignedUsr",search:!0})})});return(0,f.jsx)(f.Fragment,{children:g?"Updating":(0,f.jsx)(c.Z,{placement:"bottom",trigger:"click",overlay:C,rootClose:!0,children:(0,f.jsx)("span",{children:Z.name})})})}},6347:function(e,t,n){var a=n(7762),r=n(9439),o=n(4165),s=n(1413),i=n(5861),u=n(2791),c=n(6963),l=n(5125),d=(n(1052),n(8340)),p=(n(5498),n(6031),n(3247)),h=n(9434),f=n(184),v=function(e,t){return e?t+"\n":""},m=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n,a,r,i,u,c,d,p,h,f,m,g,x,w,k,Z,A,y,b,S,j,F,_,E;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=new l.default,S=[["Student Name",null===t||void 0===t||null===(n=t.student_info)||void 0===n||null===(a=n.name)||void 0===a?void 0:a.student_name],["Student Phone",null===t||void 0===t||null===(r=t.student_info)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.student_phone],["Student Email",null===t||void 0===t||null===(u=t.student_info)||void 0===u||null===(c=u.name)||void 0===c?void 0:c.student_email],["Current Education",null===t||void 0===t||null===(d=t.student_info)||void 0===d||null===(p=d.name)||void 0===p?void 0:p.current_education],["Student Address",null===t||void 0===t||null===(h=t.student_info)||void 0===h||null===(f=h.name)||void 0===f?void 0:f.student_address],["Country Interested",null===t||void 0===t||null===(m=t.student_info)||void 0===m||null===(g=m.name)||void 0===g?void 0:g.country_interested],["University Interested",null===(x=t.university_interested)||void 0===x?void 0:x.univ_name],["Level applying for",null===(w=t.level_applying_for)||void 0===w?void 0:w.levels],["Course Interested",null===(k=t.course_interested)||void 0===k?void 0:k.course_name],["Intake Interested",(null===(Z=t.intake_interested)||void 0===Z?void 0:Z.intake_month)+" "+(null===(A=t.intake_interested)||void 0===A?void 0:A.intake_year)],["Assigned User",null===(y=t.assigned_users)||void 0===y?void 0:y.username]],70,j={startY:70,margin:{horizontal:10}},b.autoTable((0,s.Z)({head:[["Student Info","Details"]],body:S},j)),F="Below are the documents included in Application\n\n",F+=v(t.Tenth_Marksheet,"10th Marksheet"),F+=v(t.Twelveth_Marksheet,"12th Marksheet"),F+=v(t.Diploma_Marksheet,"Diploma Marksheet"),F+=v(t.Bachelor_Marksheet,"Bachelor Marksheet"),F+=v(t.Master_Marksheet,"Master Marksheet"),F+=v(t.Language_Exam,"Language Exam"),F+=v(t.Resume,"Resume"),F+=v(t.Sop,"Sop"),F+=v(t.Lor,"Lor"),F+=v(t.passport,"passport"),F+=v(t.rcvd_offer_letter,"Offer Letter"),_=b.internal.pageSize.width/2,E=b.autoTable.previous.finalY+20,b.text(F,_,E,{align:"center"}),e.abrupt("return",b.output("arraybuffer"));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n,a,r,s,i,u,l,d,p,h,f,v,m,x,w;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return n=e.sent,e.next=5,c.PDFDocument.create();case 5:return a=e.sent,r=a.addPage(),e.next=9,a.embedJpg(n);case 9:return s=e.sent,i=s.scale(1),u=i.width,l=i.height,d=r.getSize().width,p=r.getSize().height,h=d/u,f=p/l,v=Math.min(h,f),m=u*v,x=l*v,r.drawImage(s,{x:(d-m)/2,y:(p-x)/2,width:m,height:x}),e.next=21,a.save();case 21:return w=e.sent,e.abrupt("return",w);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.Z=function(){var e=(0,u.useState)(""),t=(0,r.Z)(e,2),n=t[0],s=t[1],l=(0,u.useState)(!1),v=(0,r.Z)(l,2),w=v[0],k=v[1],Z=(0,u.useState)(null),A=(0,r.Z)(Z,2),y=A[0],b=A[1],S=(0,h.I0)(),j=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n,s,i,u,l,d,p,h,f,v,w,k,Z;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(y);case 2:return n=e.sent,s=[n,y.Tenth_Marksheet,y.Twelveth_Marksheet,y.Diploma_Marksheet,y.Bachelor_Marksheet,y.Master_Marksheet,y.Language_Exam,y.Resume,y.Sop,y.Lor,y.passport,y.rcvd_offer_letter],console.log(s),s=s.filter((function(e){return!!e})),console.log(s),e.next=9,c.PDFDocument.create();case 9:i=e.sent,u=(0,a.Z)(s.entries()),e.prev=11,u.s();case 13:if((l=u.n()).done){e.next=44;break}if(d=(0,r.Z)(l.value,2),p=d[0],h=d[1],f=void 0,v=void 0,0!==p){e.next=22;break}return e.next=19,c.PDFDocument.load(h);case 19:v=e.sent,e.next=38;break;case 22:if(!h.endsWith(".pdf")){e.next=31;break}return e.next=25,g(h);case 25:return f=e.sent,e.next=28,c.PDFDocument.load(f);case 28:v=e.sent,e.next=38;break;case 31:if(!(h.endsWith(".jpg")||h.endsWith(".jpeg")||h.endsWith(".png"))){e.next=38;break}return e.next=34,x(h);case 34:return w=e.sent,e.next=37,c.PDFDocument.load(w);case 37:v=e.sent;case 38:return e.next=40,i.copyPages(v,v.getPageIndices());case 40:e.sent.forEach((function(e){return i.addPage(e)}));case 42:e.next=13;break;case 44:e.next=49;break;case 46:e.prev=46,e.t0=e.catch(11),u.e(e.t0);case 49:return e.prev=49,u.f(),e.finish(49);case 52:return e.next=54,i.save();case 54:return k=e.sent,Z=URL.createObjectURL(new Blob([k],{type:"application/pdf"})),e.abrupt("return",Z);case 57:case"end":return e.stop()}}),e,null,[[11,46,49,52]])})));return function(t){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){try{if(w&&y){var e=(0,f.jsx)("table",{className:"table table-striped"});j((0,d.Dq)(e)).then((function(e){s(e),k(!1),b(null)})).catch((function(e){S(p.a.setNotification({show:!0,heading:"Export PDF",msg:"Some Problem Occured while generating PDF, Please try again, If this problem persist contact developer"})),k(!1),b(null),console.error("Error generating PDF:",e)}))}}catch(t){S(p.a.setNotification({show:!0,heading:"Export PDF",msg:"Can't export more then 1 pdf at a same time, Please wait..."})),k(!1),b(null)}}),[w,y]),[w,k,n,b,s,y]}}}]);
//# sourceMappingURL=346.2100ba10.chunk.js.map